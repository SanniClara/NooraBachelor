<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="css/style.css">
    <script defer src="/script.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>


</head>
    
  

 

  <div id="PurpleTopLine">
    <a href="/"><img id="Logo" src="img/Noora.PNG" alt="haloo"></a>
    <form action="/logout?_method=DELETE" method="POST">
      <button style="margin-top: -20px;" type="submit">Log Out</button>
    </form>
  </div>

  <div id="MenuLeft">  
    <p style="text-align: center; color: white; background-color: #AE4D71;" >Übungen</p>

      <div class="LinkBox" >
        <a href="/luxValue"><img class="MenuIcons" src="img/sunlight.svg"></a>
      </div> 

      <div class="LinkBox" >
        <a href="/focus"><img class="MenuIcons" src="img/Focus.svg" alt=""></a> 
      </div> 

      <div class="LinkBox" >
        <a href="/BlinkingContest"><img class="MenuIcons" src="img/Eye.svg" ></a>  
      </div> 

      <div class="LinkBox" >
        <a href="/calmDown"><img class="MenuIcons" src="img/calm.svg" alt=""></a> 
      </div> 
      <p style="text-align: center;color: white; background-color: #AE4D71; " > Menü </p>


      <div class="LinkBox" >
        <a href="/timer"><img class="MenuIcons" src="img/timer.svg" alt=""></a>
        </div> 

      <div class="LinkBox" >
        <a href="/points"><img class="MenuIcons" src="img/points.svg" alt=""></a> 
      </div> 

      <div class="LinkBox" >
        <a href="/settings"><img class="MenuIcons" src="img/settings.svg" alt=""></a>  
      </div> 
  </div>


  
  <h1 class="LinkeUeberschriftSeitenbezeinchung">Spenden & Prämien</h1> 
  <p class="LinkeUeberschriftSeitenbezeinchung">Hier können Sie ihre Punkte für die Pämien und Spenden, die ihenn gefallen einlösen. <br>
     Wenn Sie für die beidne Kategorien einen Vorschlag haben, könnnen sie <a href="/antrag">hier</a> ihre Vorschläge abgeben. Ihre Punkte werden nach einem 60/40 Verhältnis aufgeteilt. <br>
    Die beiden Kategorien sind: Kategorien "Prämie" & "Gemeinnutz" einlösen. <br>
     <br>
    Klicken Sie auf die Prämien, die Sie erhalten möchten und dann auf den "Einlösen"-Button </p>

    <h3 id="GesamtpunktzahlAnzeige"></h3>

<div id="ÜberschriftenPunkteverteilung">

      <h3 id="PunktePrämienVariable" class="PunkteUeberschriften" ></h3>

      <h3 id="PunkteGemeinutzVariable" class="PunkteUeberschriften" ></h3>

</div>

<div>
  <input type="text" id="fname1" name="firstname" placeholder="Suchen...">
  <input type="text" id="fname2" name="firstname" placeholder="Suchen...">

</div>


<div id="Rand">

    <div id="UmschlagUmAuswahlKategorie1">
        <div id="P1" class="AuswahlDiv1"> Jochen Schweizer<img width="100" src="/img/Prämienbilder/jochenSchweizer.jfif" alt="">
          <span id="P1Tooltip" >Die Jochen Schweizer GmbH hat die Mission, Menschen mit außergewöhnlichen Erlebnissen zu begeistern. Sie bietet Privat- sowie Firmenkunden eine nachhaltige Alternative zu gegenständlichen Geschenken. Denn außergewöhnliche Erlebnisse spornen an und machen das Leben reicher. Darüber hinaus treibt sie als Marktführer für Erlebnisse und Erlebnisgeschenke die Digitalisierung der Freizeit-Branche voran. Das Unternehmen beschäftigt aktuell mehr als 500 Mitarbeiter, die jedes Jahr hunderttausenden Menschen Erlebnisse ermöglichen.

          </span>
        </div>
        <div id="P2" class="AuswahlDiv1">Amazon <img width="100" src="/img/Prämienbilder/amazon-gutscheincode_logo.png" alt="">
          <span id="P2Tooltip" >Amazon ist ein Onlineversandhändler mit einer breit gefächerten Produktpalette. Amazon hat als Marktführer des Handels im Internet die weltweit größte Auswahl an Büchern, CDs und Videos. Über die integrierte Verkaufsplattform Marketplace können auch Privatpersonen oder andere Unternehmen im Rahmen des Onlinehandels neue und gebrauchte Produkte anbieten. Unter eigener Marke werden der Amazon Kindle als Lesegerät für elektronische Bücher, der Tabletcomputer Amazon Fire HD, die Set-Top-Box Fire TV sowie der HDMI-Stick Fire TV Stick und das Spracherkennungssystem Echo vertrieben.
          </span>
        </div>
        <div id="P3" class="AuswahlDiv1">Avocado Store <img width="100" src="/img/Prämienbilder/avocadostore-logonew.jpg" alt=""></div>
        <div id="P4" class="AuswahlDiv1"> LunaLama <img width="100" src="/img/Prämienbilder/Download.jfif" alt=""></div>
        <div id="P5" class="AuswahlDiv1"> Goose and Creek <img width="100" src="/img/Prämienbilder/goose_and_greek.jpg" alt=""></div>
        <div id="P6" class="AuswahlDiv1"> Alnatura <img width="100" src="/img/Prämienbilder/Download.png" alt=""></div>
        <div id="P7" class="AuswahlDiv1">Edeka <img width="100" src="/img/Prämienbilder/Edeka.jpg" alt=""></div>
        <div id="P8" class="AuswahlDiv1">Patagonia <img width="100" src="/img/Prämienbilder/Patagonia.jpg" alt=""></div>
    </div>

    <div id="UmschlagUmAuswahlKategorie2" >
        <div id="G1" class="AuswahlDiv2">Ärzte ohne Grenzen <img width="100" src="/img/Prämienbilder/AOG.png" alt=""></div>
        <div id="G2" class="AuswahlDiv2">Welt Hunger Hilfe <img width="100" src="/img/Prämienbilder/Hunger.png" alt=""></div>
        <div id="G3" class="AuswahlDiv2">Seashepards <img width="100" src="/img/Prämienbilder/seashepards.jpg" alt=""> </div>
        <div id="G4" class="AuswahlDiv2">SOS Kinfderdorf  <img width="100" src="/img/Prämienbilder/SOSKinder.png" alt=""></div>
        <div id="G5" class="AuswahlDiv2">UNESCO <img width="100" src="/img/Prämienbilder/UNESCO.png" alt=""> </div>
        <div id="G6" class="AuswahlDiv2"> World Animal Protection <img width="100" src="/img/Prämienbilder/WAP.png" alt=""> </div>
        <div id="G7" class="AuswahlDiv2"> Wildlife Conservation Society <img width="100" src="/img/Prämienbilder/WCS.png" alt=""> </div>
        <div id="G8" class="AuswahlDiv2">WWF <img width="100" src="/img/Prämienbilder/wwf.jpg" alt="">  </div>
    </div>





</div>




<a style="width: 100%;" href="/points"><button id="BottonPraemienSeitePunktEinloesen"> Einlösen </button></a>

  

</body>

<style>
  #ÜberschriftenPunkteverteilung{
    width: 100%;
    margin-left: 25px;

  }

  .PunkteUeberschriften{
    width: 44%;
    float: left;
    margin-top:20px;
  }

  .AuswahlDiv1{
    background-color: #306986;
    width: 120px;
    height: 140px;
    margin: 40px;
    float: left;
    opacity: 0.6;
    color: white;
  }

  .AuswahlDiv1:hover{
    opacity: 1;
    cursor: pointer;
  }


  .AuswahlDiv2{
    background-color: #AE4D71;
    width: 120px;
    height: 140px;
    margin: 40px;
    float: left;
    opacity: 0.2;
    color: white;
  }

  .AuswahlDiv2:hover{
    opacity: 1;
    cursor: pointer;

  }

  #UmschlagUmAuswahlKategorie1{
    width: 45%;
    float: left;
    margin-top:20px;
    overflow: auto;
    height: 300px;
  }

  #UmschlagUmAuswahlKategorie2{
    width: 48%;
    float: left;
    margin-top:20px;
    overflow: auto;
    height: 300px;
  }

  #Rand{
    width: 100%;
  }

  #BottonPraemienSeitePunktEinloesen{
      background: white;
      color: #306986;
      font-size: 18px;
      border-radius: 0;
      border-color: #306986;
      box-shadow: 0px 0px white;
      padding: 10px;
      padding-left: 20px;
      padding-right: 20px;
      border: 2px solid;
      cursor: pointer;
      margin-top: 80px;
      margin-left: 25px;
    }

    #fname1{
      margin-left: 25px;
      margin-right: 490px;
    }

    /*----- Hover Texte für Prämien und Spenden ----------*/

              #P1 #P1Tooltip{
              visibility: hidden;
              width: 25%;
              background-color:#AE4D71;
              color: #fff;
              text-align: lseft;
              padding: 10px;
              overflow: auto;
              height: 200px;

              /* Position the tooltip */
              position: absolute;
              z-index: 1;
            }


            #P1:hover #P1Tooltip {
              visibility: visible;
            }

            
            #P2 #P2Tooltip{
              visibility: hidden;
              width: 25%;
              background-color:#AE4D71;
              color: #fff;
              text-align: lseft;
              padding: 10px;
              overflow: auto;
              height: 200px;
              /* Position the tooltip */
              position: absolute;
              z-index: 1;
            }

            #P2:hover #P2Tooltip {
              visibility: visible;
            }
  
</style>

   <script>

     var Punktestand = 0;
      $(document).ready(() => {
        var url = "/collectPoints";
        var xhr = new XMLHttpRequest();
        xhr.open("GET", url);
        xhr.setRequestHeader("Accept", "application/json");
        xhr.setRequestHeader("Content-Type", "application/json");
        xhr.onreadystatechange = function () {
          if (xhr.readyState === 4 && xhr.status === 200) {
          Punktestand = 0 + parseInt(xhr.response);
          console.log(Punktestand)
          document.getElementById("GesamtpunktzahlAnzeige").innerHTML = " Aktueller Gesamtpunktzahl: " + " " +  Punktestand;
          
          var Gesamtzahl = Punktestand;
          var PrämienZahl = Gesamtzahl*0.6; 
          var GemeinnutzZahl = Gesamtzahl*0.4;

document.getElementById("PunktePrämienVariable").innerHTML = "verfügbare Punkte in der Kategorie 'Prämie' : " + " " + PrämienZahl;
document.getElementById("PunkteGemeinutzVariable").innerHTML = "verfügbare Punkte in der Kategorie 'Gemeinnutz' : " + " " + GemeinnutzZahl;



document.getElementById("G1").onclick = function() {PunkteabziehenGemeinnutzZahl()};
document.getElementById("G2").onclick = function() {PunkteabziehenGemeinnutzZahl2()};
document.getElementById("G3").onclick = function() {PunkteabziehenGemeinnutzZahl3()};
document.getElementById("G4").onclick = function() {PunkteabziehenGemeinnutzZahl4()};
document.getElementById("G5").onclick = function() {PunkteabziehenGemeinnutzZahl5()};
document.getElementById("G6").onclick = function() {PunkteabziehenGemeinnutzZahl6()};
document.getElementById("G7").onclick = function() {PunkteabziehenGemeinnutzZahl7()};
document.getElementById("G8").onclick = function() {PunkteabziehenGemeinnutzZahl8()};




function PunkteabziehenGemeinnutzZahl(){
  document.getElementById("G1").style.opacity = 1;
  GemeinnutzZahl = GemeinnutzZahl - 10;
  console.log(GemeinnutzZahl);
  document.getElementById("PunkteGemeinutzVariable").innerHTML = "verfügbare Punkte in der Kategorie 'Gemeinnutz' : " + " " + GemeinnutzZahl;
  
    if(GemeinnutzZahl <= 0){
       alert("Nicht genug Punkte");
        GemeinnutzZahl = GemeinnutzZahl + 10;
        document.getElementById("PunkteGemeinutzVariable").innerHTML = "verfügbare Punkte in der Kategorie 'Gemeinnutz' : " + " " + GemeinnutzZahl;
    }

 
}

function PunkteabziehenGemeinnutzZahl2(){
  document.getElementById("G2").style.opacity = 1;
  GemeinnutzZahl = GemeinnutzZahl - 10;
  console.log(GemeinnutzZahl);
  document.getElementById("PunkteGemeinutzVariable").innerHTML = "verfügbare Punkte in der Kategorie 'Gemeinnutz' : " + " " + GemeinnutzZahl;
  
    if(GemeinnutzZahl <= 0){
       alert("Punkte aufgebraucht");
        GemeinnutzZahl = GemeinnutzZahl + 10;
        document.getElementById("PunkteGemeinutzVariable").innerHTML = "verfügbare Punkte in der Kategorie 'Gemeinnutz' : " + " " + GemeinnutzZahl;

    }

}
function PunkteabziehenGemeinnutzZahl3(){
  document.getElementById("G3").style.opacity = 1;
  GemeinnutzZahl = GemeinnutzZahl - 10;
  console.log(GemeinnutzZahl);
  document.getElementById("PunkteGemeinutzVariable").innerHTML = "verfügbare Punkte in der Kategorie 'Gemeinnutz' : " + " " + GemeinnutzZahl;
  
    if(GemeinnutzZahl <= 0){
       alert("Punkte aufgebraucht");
        GemeinnutzZahl = GemeinnutzZahl + 10;
        document.getElementById("PunkteGemeinutzVariable").innerHTML = "verfügbare Punkte in der Kategorie 'Gemeinnutz' : " + " " + GemeinnutzZahl;

    }

}

function PunkteabziehenGemeinnutzZahl4(){
  document.getElementById("G4").style.opacity = 1;
  GemeinnutzZahl = GemeinnutzZahl - 10;
  console.log(GemeinnutzZahl);
  document.getElementById("PunkteGemeinutzVariable").innerHTML = "verfügbare Punkte in der Kategorie 'Gemeinnutz' : " + " " + GemeinnutzZahl;
  
    if(GemeinnutzZahl <= 0){
       alert("Punkte aufgebraucht");
        GemeinnutzZahl = GemeinnutzZahl + 10;
        document.getElementById("PunkteGemeinutzVariable").innerHTML = "verfügbare Punkte in der Kategorie 'Gemeinnutz' : " + " " + GemeinnutzZahl;

    }

}

function PunkteabziehenGemeinnutzZahl5(){
  document.getElementById("G5").style.opacity = 1;
  GemeinnutzZahl = GemeinnutzZahl - 10;
  console.log(GemeinnutzZahl);
  document.getElementById("PunkteGemeinutzVariable").innerHTML = "verfügbare Punkte in der Kategorie 'Gemeinnutz' : " + " " + GemeinnutzZahl;
  
    if(GemeinnutzZahl <= 0){
       alert("Punkte aufgebraucht");
        GemeinnutzZahl = GemeinnutzZahl + 10;
        document.getElementById("PunkteGemeinutzVariable").innerHTML = "verfügbare Punkte in der Kategorie 'Gemeinnutz' : " + " " + GemeinnutzZahl;

    }

}

function PunkteabziehenGemeinnutzZahl6(){
  document.getElementById("G6").style.opacity = 1;
  GemeinnutzZahl = GemeinnutzZahl - 10;
  console.log(GemeinnutzZahl);
  document.getElementById("PunkteGemeinutzVariable").innerHTML = "verfügbare Punkte in der Kategorie 'Gemeinnutz' : " + " " + GemeinnutzZahl;
  
    if(GemeinnutzZahl <= 0){
       alert("Punkte aufgebraucht");
        GemeinnutzZahl = GemeinnutzZahl + 10;
        document.getElementById("PunkteGemeinutzVariable").innerHTML = "verfügbare Punkte in der Kategorie 'Gemeinnutz' : " + " " + GemeinnutzZahl;

    }

}

function PunkteabziehenGemeinnutzZahl7(){
  document.getElementById("G7").style.opacity = 1;
  GemeinnutzZahl = GemeinnutzZahl - 10;
  console.log(GemeinnutzZahl);
  document.getElementById("PunkteGemeinutzVariable").innerHTML = "verfügbare Punkte in der Kategorie 'Gemeinnutz' : " + " " + GemeinnutzZahl;
  
    if(GemeinnutzZahl <= 0){
       alert("Punkte aufgebraucht");
        GemeinnutzZahl = GemeinnutzZahl + 10;
        document.getElementById("PunkteGemeinutzVariable").innerHTML = "verfügbare Punkte in der Kategorie 'Gemeinnutz' : " + " " + GemeinnutzZahl;

    }

}
function PunkteabziehenGemeinnutzZahl8(){
  document.getElementById("G8").style.opacity = 1;
  GemeinnutzZahl = GemeinnutzZahl - 10;
  console.log(GemeinnutzZahl);
  document.getElementById("PunkteGemeinutzVariable").innerHTML = "verfügbare Punkte in der Kategorie 'Gemeinnutz' : " + " " + GemeinnutzZahl;
  
    if(GemeinnutzZahl <= 0){
       alert("Punkte aufgebraucht");
        GemeinnutzZahl = GemeinnutzZahl + 10;
        document.getElementById("PunkteGemeinutzVariable").innerHTML = "verfügbare Punkte in der Kategorie 'Gemeinnutz' : " + " " + GemeinnutzZahl;

    }
}




document.getElementById("P1").onclick = function() {Punkteabziehen()};
document.getElementById("P2").onclick = function() {Punkteabziehen2()};
document.getElementById("P3").onclick = function() {Punkteabziehen3()};
document.getElementById("P4").onclick = function() {Punkteabziehen4()};
document.getElementById("P5").onclick = function() {Punkteabziehen5()};
document.getElementById("P6").onclick = function() {Punkteabziehen6()};
document.getElementById("P7").onclick = function() {Punkteabziehen7()};
document.getElementById("P8").onclick = function() {Punkteabziehen8()};




function Punkteabziehen(){
  document.getElementById("P1").style.opacity = 1;
  PrämienZahl = PrämienZahl - 10;
  console.log(PrämienZahl);
  document.getElementById("PunktePrämienVariable").innerHTML = "verfügbare Punkte in der Kategorie 'Prämie' : " + " " + PrämienZahl;
  
    if(PrämienZahl <= 0){
       alert("Punkte aufgebraucht");
       PrämienZahl = PrämienZahl + 10;
        document.getElementById("PunktePrämienVariable").innerHTML = "verfügbare Punkte in der Kategorie 'Prämie' : " + " " + PrämienZahl;
    }

 
}

function Punkteabziehen2(){
  document.getElementById("P2").style.opacity = 1;
  PrämienZahl = PrämienZahl - 10;
  console.log(PrämienZahl);
  document.getElementById("PunktePrämienVariable").innerHTML = "verfügbare Punkte in der Kategorie 'Prämie' : " + " " + PrämienZahl;
  
    if(PrämienZahl <= 0){
       alert("Punkte aufgebraucht");
       PrämienZahl = PrämienZahl + 10;
        document.getElementById("PunktePrämienVariable").innerHTML = "verfügbare Punkte in der Kategorie 'Prämie' : " + " " + PrämienZahl;

    }

}

function Punkteabziehen3(){
  document.getElementById("P3").style.opacity = 1;
  PrämienZahl = PrämienZahl - 10;
  console.log(PrämienZahl);
  document.getElementById("PunktePrämienVariable").innerHTML = "verfügbare Punkte in der Kategorie 'Prämie' : " + " " + PrämienZahl;
  
    if(PrämienZahl <= 0){
       alert("Punkte aufgebraucht");
       PrämienZahl =  PrämienZahl + 10;
        document.getElementById("PunktePrämienVariable").innerHTML = "verfügbare Punkte in der Kategorie 'Prämie' : " + " " + PrämienZahl;

    }
}

function Punkteabziehen4(){
  document.getElementById("P4").style.opacity = 1;
  PrämienZahl = PrämienZahl - 10;
  console.log(PrämienZahl);
  document.getElementById("PunktePrämienVariable").innerHTML = "verfügbare Punkte in der Kategorie 'Prämie' : " + " " + PrämienZahl;
  
    if(PrämienZahl <= 0){
       alert("Punkte aufgebraucht");
       PrämienZahl =  PrämienZahl + 10;
        document.getElementById("PunktePrämienVariable").innerHTML = "verfügbare Punkte in der Kategorie 'Prämie' : " + " " + PrämienZahl;

    }

}

function Punkteabziehen5(){
  document.getElementById("P5").style.opacity = 1;
  PrämienZahl = PrämienZahl - 10;
  console.log(PrämienZahl);
  document.getElementById("PunktePrämienVariable").innerHTML = "verfügbare Punkte in der Kategorie 'Prämie' : " + " " + PrämienZahl;
  
    if(PrämienZahl <= 0){
       alert("Punkte aufgebraucht");
       PrämienZahl =  PrämienZahl + 10;
        document.getElementById("PunktePrämienVariable").innerHTML = "verfügbare Punkte in der Kategorie 'Prämie' : " + " " + PrämienZahl;

    }

}

function Punkteabziehen6(){
  document.getElementById("P6").style.opacity = 1;
  PrämienZahl = PrämienZahl - 10;
  console.log(PrämienZahl);
  document.getElementById("PunktePrämienVariable").innerHTML = "verfügbare Punkte in der Kategorie 'Prämie' : " + " " + PrämienZahl;
  
    if(PrämienZahl <= 0){
       alert("Punkte aufgebraucht");
       PrämienZahl =  PrämienZahl + 10;
        document.getElementById("PunktePrämienVariable").innerHTML = "verfügbare Punkte in der Kategorie 'Prämie' : " + " " + PrämienZahl;

    }

}

function Punkteabziehen7(){
  document.getElementById("P7").style.opacity = 1;
  PrämienZahl = PrämienZahl - 10;
  console.log(PrämienZahl);
  document.getElementById("PunktePrämienVariable").innerHTML = "verfügbare Punkte in der Kategorie 'Prämie' : " + " " + PrämienZahl;
  
    if(PrämienZahl <= 0){
       alert("Punkte aufgebraucht");
       PrämienZahl =  PrämienZahl + 10;
        document.getElementById("PunktePrämienVariable").innerHTML = "verfügbare Punkte in der Kategorie 'Prämie' : " + " " + PrämienZahl;

    }

}

function Punkteabziehen8(){
  document.getElementById("P8").style.opacity = 1;
  PrämienZahl = PrämienZahl - 10;
  console.log(PrämienZahl);
  document.getElementById("PunktePrämienVariable").innerHTML = "verfügbare Punkte in der Kategorie 'Prämie' : " + " " + PrämienZahl;
  
    if(PrämienZahl <= 0){
       alert("Punkte aufgebraucht");
       PrämienZahl =  PrämienZahl + 10;
        document.getElementById("PunktePrämienVariable").innerHTML = "verfügbare Punkte in der Kategorie 'Prämie' : " + " " + PrämienZahl;

    }
}

var PunkteabziehenvomGesamtpunktestand = GemeinnutzZahl + PrämienZahl;

          //Funktion zum Löschen der Punkte die eingelöst wurden 
          document.getElementById("BottonPraemienSeitePunktEinloesen").onclick = function() {substractPointswhenCashed()};
          function substractPointswhenCashed(){
          var url2 = "/storePoints";
              var xhr2 = new XMLHttpRequest();
              xhr2.open("POST", url2);
              xhr2.setRequestHeader("Accept", "application/json");
              xhr2.setRequestHeader("Content-Type", "application/json"); 
              // xhr.onreadystatechange = function () {
              //   if (xhr.readyState === 4) {   
              //     document.getElementById("storePointRequest").innerHTML = "res";
              //   }
              // };   
              var data = {
                "points": -PunkteabziehenvomGesamtpunktestand
              };
              
              xhr2.send(data.points);

            }

          }
          
        };
        xhr.send();
      });

    



</script>


        
