<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="css/style.css">
    <script defer src="/script.js"></script>

</head>
    
  

 

  <div id="PurpleTopLine">
    <a href="/"><img id="Logo" src="img/Noora.PNG" alt="haloo"></a>
    <form action="/logout?_method=DELETE" method="POST">
      <button style="margin-top: -20px;" type="submit">Log Out</button>
    </form>
  </div>

  <div id="MenuLeft">  

      <div class="LinkBox" >
        <a href="/luxValue"><img class="MenuIcons" src="img/sunlight.svg"></a>
      </div> 

      <div class="LinkBox" >
        <a href="/focus"><img class="MenuIcons" src="img/Focus.svg" alt=""></a> 
      </div> 

      <div class="LinkBox" >
        <a href="/BlinkingContest"><img class="MenuIcons" src="img/Eye.svg" ></a>  
      </div> 

      <div class="LinkBox" >
        <a href="/calmDown"><img class="MenuIcons" src="img/calm.svg" alt=""></a> 
      </div> 

      <div class="LinkBox" >
        <a href="/timer"><img class="MenuIcons" src="img/timer.svg" alt=""></a>
        </div> 

      <div class="LinkBox" >
        <a href="/points"><img class="MenuIcons" src="img/points.svg" alt=""></a> 
      </div> 

      <div class="LinkBox" >
        <a href="/settings"><img class="MenuIcons" src="img/settings.svg" alt=""></a>  
      </div> 

  </div>


  
  <h1 class="LinkeUeberschriftSeitenbezeinchung">Quiz Circadianer Rhythmus</h1> 
  <p class="LinkeUeberschriftSeitenbezeinchung">Text</p>



    <a href="/points"><button id="BottonInteraktiveGrafikSeite"  > Weiter </button></a>

      
  
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<script>

  $(document).ready(function() {
    slider = new Slider();
  });
  
  var Slider = (function() {
  
    var Slider = function() {
      
      this.initialise();
    }
  
    Slider.prototype = {
  
      initialise: function() {
        this.vars();
        this.setup();
        this.slideEvent();
      },
  
      vars: function() {
        // vars
        _this = this;
        this.container = $('.sliders');
        this.slider = $('.slider');
        this.slide = $('.slide');
        this.controls = $('.control');
        this.totalPercentage = 100;
      },
  
      setup: function() {
        // set equal width depending on how many sliders there are when initalised 
        var counter = 0;
        this.slide.each(function() {
          counter++;
        });
  
        var initWidth = this.totalPercentage / counter;
  
       this.slide.width(initWidth + '%');
       this.slide.attr('data-percent', initWidth + '%');
      },
  
      getPercentWidth: function(target) {
        // get percentage of current width
        target.attr('data-percent', (100 * parseFloat(target.css('width')) / parseFloat(target.parent().css('width'))));
      },
  
      slideEvent: function() {
        // listen for mouse down on the controls
        this.controls.on('mousedown', function(event) {
          this.slideDrag(event);
        }.bind(this));
      },
  
      slideDrag: function(event) {
        event.preventDefault();
  
        this.target = $(event.target);
        this.prevMousePos = 0;
  
        this.target.parent().addClass('active');
        // listen mousemove and mouseup events on the document: only if the mousedown happend on one of the controls 
        $(document).on('mousemove', this.slideMove);
        $(document).on('mouseup', this.slideEnd);
      },
  
      slideMove: function() {
        _this.mousePos = event.pageX; 
        _this.amount = [];
        
        // get info on widths, offsets and positions
        var offset = _this.slider.offset().left;
        var sliderWidth = _this.slider.width();
        var posX = Math.min(Math.max(0, _this.mousePos - offset), sliderWidth);   
     
        // checks direction
        if (_this.mousePos < _this.prevMousePos)  {
          _this.direction = 'left';
        } else {
          _this.direction = 'right';
        }
        
        //console.log(_this.direction);
         
        // update mouse position
        _this.prevMousePos = _this.mousePos;
        
        // set new width of the active slider
        _this.target.parent().width(posX / sliderWidth * 100 + '%');
        _this.calcPercent();
      },
  
      calcPercent: function() {
        var totalWidth = 0;
        var sliderLength = 0;
        var leftoverAmount = 0;
        
        // loop through each slide
        _this.slide.each(function() {
          
          sliderLength++;
          _this.getPercentWidth($(this));
          
          if ($(this).hasClass('active')) {
            // set active percentage
            _this.active = parseFloat($(this).attr('data-percent'));
  
          } else {
           
            // add non active widths into an array
           
            _this.amount.push(parseFloat($(this).attr('data-percent')));
          }
  
          //totalWidth += parseFloat($(this).attr('data-percent'));
  
        });
    
        // find out the leftover amount
        leftoverAmount = _this.totalPercentage - _this.active;
        _this.nonActiveAmount = 0;
        $.each(_this.amount, function() {
            
         _this.nonActiveAmount += parseFloat(this) ;
        });
        
        var x = leftoverAmount / 100;
        var y = _this.nonActiveAmount / 100;
        var z = _this.active;
       
        _this.slide.each(function() {
   
          if (!$(this).hasClass('active') || !$(this).hasClass('locked')) {
             console.log($(this));
            var v = x * (parseFloat($(this).attr('data-percent')) / y);
            $(this).width(v + '%');
            
          }
        });
  
      },
  
      slideEnd: function() {
        // kill the events on mouse up.
        _this.target.parent().removeClass('active');
        $(this).off('mousemove', slider.slideMove);
        $(this).off('mouseup', slider.slideEnd);
      },
    }
  
    return Slider;
  
  }());
  </script>

<div class="sliders">
  <h2>Spenden: </h2>
  <div class="slider one">
    <div class="slide">
      <div class="control"></div>
    </div>
  </div>
  <h2>Pr√§mien: </h2>
  <div class="slider two">
    <div class="slide">
       <div class="control"></div>
    </div>
  </div>

  

</div>

<style>
div.sliders {
position: absolute;
width: 50%;
padding: 20px;
}

div.slider {
display: block;
width: 50%;
margin: 20px auto;
background-color: #07553E;
height: 50px;
}

div.slide {
width: 33%;
height: 100%;
background: #1663AC;
position: relative;
}

div.control {
width: 15px;
height: 15px;
border-radius: 50%;
padding: 40px;
background: #7C71A1;
position: absolute;
right: -7px;
margin-top: -7px;
cursor: pointer;
}
</style>


</body>




        
